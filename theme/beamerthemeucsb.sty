%\ProvidesPackage{beamerthemeumbc4}[2004/10/14 v1.0 for beamer 2.21]
%\ProvidesPackage{beamerthemeumbc4}[2004/12/26 v1.1 for beamer 3.01]
%\ProvidesPackage{beamerthemeumbc4}[2005/03/05 v1.2 for beamer 3.01]
\ProvidesPackage{beamerthemeucsb}[2007/05/05 v1.3 for beamer 3.01]
% A stripped-down theme for beamer, inspired by a PowerPoint design
% 
% Usage:
%
% \documentclass{beamer}
% [commands affecting slide's background color, if any, go here]
% \usetheme{ucsb}
% ...
% 
% Adpation for UCSB by Guofeng Cao <cao@geog.ucsb.edu>
% Rouben Rostamian <rostamian@umbc.edu>
% Revision history:
% v1.2:
% 1. Moved \newdimen\umbc@ypos and \newbox\umbc@mybox out of the definition
%    of \setbeamertemplate{frametitle}{...}.
% 2. Renamed \@ypos and \@mybox to \umbc@ypos \umbc@mybox
% 3. 2007-05-05: Added \usepackage{pgfcomp-version-0-65} 
% 
\mode<presentation>
\usepackage{pgfcomp-version-0-65}
%------ definition of the red, gold, blue logo ------------------------
\usepackage{xcolor}
\definecolor{ucsbyellow}{rgb}{1,0.78,0.18}
{
 \usebeamercolor[bg]{background canvas}  % blend logo with canvas bg color
  \pgfdeclarehorizontalshading{ucsb@fadingline}{.6mm}%
    {color(0mm)=(ucsbyellow); color(108mm)=(ucsbyellow)}
}

\newcommand{\ucsb@pplogo}{%
  \raisebox{-9mm}[0pt][0pt]{%
    \begin{pgfpicture}{0mm}{0mm}{0mm}{0mm}
      \begin{pgftranslate}{\pgfpoint{-5mm}{0mm}}
        \pgfbox[left,base]{\pgfuseshading{ucsb@fadingline}}
      \end{pgftranslate}
      % the gold box
    \end{pgfpicture}
  }
}

%------ end of definition of the red, gold, blue logo -----------------

% frame head
\setbeamertemplate{headline}[text line]{\umbc@pplogo}

\setbeamerfont{frametitle}{size=\large} % beamer's default is \Large

% Trying to position frame title in a fixed position.
% Unfortunately, Beamer provides no hooks for absolute positioning of text.
% I have arrived at the following kludge by trial and error.  It works only
% approximately.  It may have to be readjusted to work with future releases
% of Beamer.
\newdimen\ucsb@ypos
\newbox\ucsb@mybox
\setbeamertemplate{frametitle}{%
  \setbox\umbc@mybox\hbox{\normalsize x}
  \umbc@ypos=\ht\umbc@mybox
  \multiply \ucsb@ypos by 2
  \advance \ucsb@ypos by -5mm
  \raisebox{\ucsb@ypos}[0pt][3mm]{\hspace*{-5mm}\insertframetitle}
}

\setbeamertemplate{items}[circle]
\setbeamercolor{itemize item}{bg=ucsbyellow,fg=ucsbyellow}
\setbeamertemplate{sections/subsections in toc}[circle]
\setbeamercolor{section number projected}{bg=ucsbyellow,fg=blue}
\useoutertheme{ucsbfootline}
%\useinnertheme{umbctribullets}
%\umbctribulletscolors{ucsbyellow}{blue}{red}
\setbeamerfont{structure}{shape=\itshape}
%
\mode<all>
